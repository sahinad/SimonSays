function startButton(){$("#start-event").prop("checked")?($("#turn").text("01"),setTimeout(callButton,1e3)):($("#turn").text("--"),deactivateButtons(),series=[],resetClicks(),execNewSeries=clearTimeout(execNewSeries),exe=clearTimeout(exe))}function randomNumber(){return random=Math.floor(Math.random()*4),series.push(random),random}function lightUpTheButton(n){$(".btn-circle:eq("+n+")").addClass("light")}function removeLight(){$(".btn-circle").removeClass("light")}function resetClicks(){clicked=[];clickCount=0}function callButton(){var n=randomNumber();switch(n){case 0:redSound.play();lightUpTheButton(n);setTimeout(removeLight,500);break;case 1:blueSound.play();lightUpTheButton(n);setTimeout(removeLight,500);break;case 2:yellowSound.play();lightUpTheButton(n);setTimeout(removeLight,500);break;case 3:greenSound.play();lightUpTheButton(n);setTimeout(removeLight,500)}setTimeout(activateButtons,1e3)}function activateButtons(){$("div .btn-red").click(function(){redSound.play();$(this).addClass("light");clicked.push(0);setTimeout(removeLight,500);clickCount++;compare(clickCount-1)});$("div .btn-blue").click(function(){blueSound.play();$(this).addClass("light");clicked.push(1);setTimeout(removeLight,500);clickCount++;compare(clickCount-1)});$("div .btn-yellow").click(function(){yellowSound.play();$(this).addClass("light");clicked.push(2);setTimeout(removeLight,500);clickCount++;compare(clickCount-1)});$("div .btn-green").click(function(){greenSound.play();$(this).addClass("light");clicked.push(3);setTimeout(removeLight,500);clickCount++;compare(clickCount-1)})}function deactivateButtons(){$("div .btn-circle").unbind("click")}function callSeries(){function n(i){setTimeout(function(){switch(series[i]){case 0:redSound.play();lightUpTheButton(series[i]);setTimeout(removeLight,500);break;case 1:blueSound.play();lightUpTheButton(series[i]);setTimeout(removeLight,500);break;case 2:yellowSound.play();lightUpTheButton(series[i]);setTimeout(removeLight,500);break;case 3:greenSound.play();lightUpTheButton(series[i]);setTimeout(removeLight,500)}i++;i<t&&n(i)},1e3)}var t=series.length;n(0)}function callSeriesAndNewButton(){callSeries();exe=setTimeout(callButton,1e3*series.length+1e3)}function compare(n){if(turnText=$("#turn").text(),$("#strict-event").prop("checked")||series[n]===clicked[n]){if($("#strict-event").prop("checked")&&series[n]!==clicked[n])deactivateButtons(),$("#turn").text("!!"),series=[],resetClicks(),setTimeout(function(){$("#turn").text("01")},2e3),execCallButton=setTimeout(callButton,3e3);else if(series.length===clickCount&&turnText==="20")setTimeout(congrats,1e3),$("#start-event").prop("checked",!1).change(),turnText="--";else if(series.length===clickCount){deactivateButtons();var t=turnText.split("");t[1]===9&&t[0]===0?(t[0]=1,t[1]=0):t[1]===9&&t[0]===1?(t[0]=2,t[1]=0):t[1]=parseInt(t[1])+1;t=t.join("");$("#turn").text(t);resetClicks();execNewSeries=setTimeout(callSeriesAndNewButton,2e3)}}else deactivateButtons(),$("#turn").text("!!"),resetClicks(),setTimeout(function(){$("#turn").text(turnText)},2e3),setTimeout(callSeries,3e3),setTimeout(activateButtons,1e3*series.length+4e3)}function congrats(){modal.style.display="block";win.play()}var random,circle=document.getElementsByClassName("btn-circle"),series=[],clicked=[],clickCount=0,redSound=new Audio("Audios/red.mp3"),blueSound=new Audio("Audios/blue.mp3"),yellowSound=new Audio("Audios/yellow.mp3"),greenSound=new Audio("Audios/green.mp3"),turnText;$("#reset").click(function(){$("#start-event").prop("checked")&&(deactivateButtons(),series=[],resetClicks(),$("#turn").text("01"),exe=clearTimeout(exe),execNewSeries=clearTimeout(execNewSeries),setTimeout(callButton,2e3))});var modal=document.getElementById("myModal"),btn=document.getElementById("myBtn"),span=document.getElementsByClassName("close")[0],win=new Audio("Audios/Woohoo!.wav");span.onclick=function(){modal.style.display="none"};window.onclick=function(n){n.target===modal&&(modal.style.display="none")};